<div class="product-card" [routerLink]="['/products', product.id]">
  <div class="product-image">
    <img [src]="product.imageUrl" [alt]="product.name" loading="lazy" decoding="async">
    
    <div class="product-badges">
      <div class="product-badge best-seller-badge" *ngIf="product.bestSeller">Best Seller</div>
      <div class="product-badge featured-badge" *ngIf="product.featured">Featured</div>
    </div>
    
    <div class="product-badge new-badge" *ngIf="product.newArrival">New</div>
    
    <div class="product-actions">
      <button class="action-btn add-to-cart-btn" (click)="addToCart($event)" title="Add to Cart" aria-label="Add to cart">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="9" cy="21" r="1"></circle>
          <circle cx="20" cy="21" r="1"></circle>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
        </svg>
        <span class="action-text">Add to Cart</span>
      </button>
    </div>
    
    <!-- New view details overlay -->
    <div class="view-details-overlay">
      <button class="view-details-btn" (click)="viewDetails($event)" title="View Details">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <span>View Details</span>
      </button>
    </div>
  </div>
  <div class="product-info">
    <h3 class="product-name">
      <span class="clickable-name">{{ product.name }}</span>
      <div class="view-indicator">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 16 16 12 12 8"></polyline>
          <line x1="8" y1="12" x2="16" y2="12"></line>
        </svg>
      </div>
    </h3>
    <p class="product-scent" *ngIf="product.scent">{{ product.scent }}</p>
    <p class="product-price">${{ product.price.toFixed(2) }}</p>
    <div class="product-rating">
      <span class="stars">
        <span *ngFor="let i of ratingArray">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" stroke="none">
            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" 
            [attr.fill]="i <= (product.rating ?? 0) ? 'currentColor' : 'none'"
            [attr.stroke]="i <= (product.rating ?? 0) ? 'none' : 'currentColor'"
            stroke-width="2"></polygon>
          </svg>
        </span>
      </span>
      <span class="review-count">({{ product.reviewCount ?? 0 }})</span>
    </div>
  </div>
  <div class="quick-add">
    <button class="quick-add-btn" (click)="addToCart($event)">
      Add to Cart
    </button>
  </div>
</div> 